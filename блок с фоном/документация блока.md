# üì¶ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: –ë–ª–æ–∫ ¬´–§–æ–Ω–æ–≤—ã–π¬ª (`background-block`)

–ë–ª–æ–∫ —Å —Ñ–æ–Ω–æ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ –∑–∞–¥–Ω–∏–π –ø–ª–∞–Ω, –ø–æ–≤–µ—Ä—Ö –∫–æ—Ç–æ—Ä—ã—Ö —Ä–∞—Å–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è —Ç–µ–∫—Å—Ç, –∫–Ω–æ–ø–∫–∏ –∏–ª–∏ –¥—Ä—É–≥–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã.  
–†–∞–±–æ—Ç–∞–µ—Ç –≤–æ –≤—Å–µ—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ø–æ—á—Ç–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–∞—Ö, –≤–∫–ª—é—á–∞—è Outlook (—á–µ—Ä–µ–∑ VML).

---

## üß± HTML-—à–∞–±–ª–æ–Ω –±–ª–æ–∫–∞

```html
<!-- type: background-block -->
<tr>
  <td
    align="center"
    bgcolor="{bgColor}"
    background="{bgImage}"
    style="background-image: url({bgImage}); background-position: center center; background-size: cover; background-repeat: no-repeat; background-color: {bgColor}; padding: 0; margin: 0; font-size: 0; line-height: normal;"
  >
    <!--[if gte mso 9]>
    <v:image src="{bgImage}" xmlns:v="urn:schemas-microsoft-com:vml" style="width:{width}px;height:{height}px;" />
    <v:rect fill="true" stroke="false" style="position:absolute;width:{width}px;height:{height}px;">
      <v:fill opacity="0%" color="#000000" />
      <v:textbox inset="0,0,0,0">
    <![endif]-->

    {{–≤—Å—Ç–∞–≤–∫–∞_–∫–æ–Ω—Ç–µ–Ω—Ç–∞}}

    <!--[if gte mso 9]>
      </v:textbox>
    </v:rect>
    <![endif]-->
  </td>
</tr>
```

---

## üß† –ü–æ–≤–µ–¥–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä–∞ –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ content

```js
if (content.length > 1) {
  // –û–±–æ—Ä–∞—á–∏–≤–∞–µ–º –≤ —Ç–∞–±–ª–∏—Ü—É
  <table
    width="100%"
    cellpadding="0"
    cellspacing="0"
    border="0"
    style="border-collapse: collapse; width: 100%;"
  >
    <tr>
      <td style="padding: 0; margin: 0; font-size: 0; line-height: normal;">
        {{ block_1 }}
        {{ block_2 }}
      </td>
    </tr>
  </table>;
} else {
  // –û–¥–∏–Ω –±–ª–æ–∫ ‚Äî –≤—Å—Ç–∞–≤–ª—è–µ–º –Ω–∞–ø—Ä—è–º—É—é –≤ td
  {
    {
      single_block;
    }
  }
}
```

---

### üìå –£—Å–ª–æ–≤–∏—è –æ–±—ë—Ä—Ç–∫–∏

| –°—Ü–µ–Ω–∞—Ä–∏–π                                         | –û–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –≤ `<table>`? |
| ------------------------------------------------ | ------------------------ |
| –û–¥–∏–Ω `text`, `button`, `image`                   | ‚ùå –ù–µ—Ç                   |
| –ù–µ—Å–∫–æ–ª—å–∫–æ –±–ª–æ–∫–æ–≤                                 | ‚úÖ –î–∞                    |
| –û–¥–∏–Ω `cards-*` –∏–ª–∏ `banner`                      | ‚ùå –ù–µ—Ç                   |
| –ë–ª–æ–∫ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–º–µ—à–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã (`text` + `button`) | ‚úÖ –î–∞                    |

---

## üîç –ü—Ä–∏–º–µ—Ä—ã

### ‚úÖ –û–¥–∏–Ω —Ç–µ–∫—Å—Ç (–≤—Å—Ç–∞–≤–∫–∞ –±–µ–∑ –æ–±—ë—Ä—Ç–∫–∏)

```json
{
  "type": "background-block",
  "data": {
    "bgImage": "https://site.com/bg-text.jpg",
    "bgColor": "#212121",
    "width": 660,
    "height": 300,
    "content": [
      {
        "type": "text",
        "data": {
          "value": "–ü—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç –Ω–∞ —Ñ–æ–Ω–µ",
          "align": "center",
          "color": "#ffffff"
        }
      }
    ]
  }
}
```

üîß –®–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä –≤—Å—Ç–∞–≤–∏—Ç –±–ª–æ–∫ `text` –Ω–∞–ø—Ä—è–º—É—é –≤ `<td>`.

---

### ‚úÖ –û–¥–Ω–∞ –∫–Ω–æ–ø–∫–∞ (–≤—Å—Ç–∞–≤–∫–∞ –±–µ–∑ –æ–±—ë—Ä—Ç–∫–∏)

```json
{
  "type": "background-block",
  "data": {
    "bgImage": "https://site.com/bg-button.jpg",
    "bgColor": "#1f1f1f",
    "width": 660,
    "height": 300,
    "content": [
      {
        "type": "button",
        "data": {
          "text": "–ü–µ—Ä–µ–π—Ç–∏",
          "url": "https://example.com",
          "bgColor": "#ED1F1E",
          "color": "#ffffff"
        }
      }
    ]
  }
}
```

üîß –ö–Ω–æ–ø–∫–∞ –±—É–¥–µ—Ç –≤—Å—Ç–∞–≤–ª–µ–Ω–∞ –Ω–∞–ø—Ä—è–º—É—é, –±–µ–∑ –æ–±—ë—Ä—Ç–∫–∏.

---

### ‚úÖ –ù–µ—Å–∫–æ–ª—å–∫–æ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –±–ª–æ–∫–æ–≤ (–≤—Å—Ç–∞–≤–∫–∞ —Å –æ–±—ë—Ä—Ç–∫–æ–π)

```json
{
  "type": "background-block",
  "data": {
    "bgImage": "https://site.com/bg-combo.jpg",
    "bgColor": "#000000",
    "width": 660,
    "height": 400,
    "content": [
      {
        "type": "text",
        "data": {
          "value": "–ó–∞–≥–æ–ª–æ–≤–æ–∫",
          "align": "center",
          "color": "#ffffff"
        }
      },
      {
        "type": "button",
        "data": {
          "text": "–ü–æ–¥—Ä–æ–±–Ω–µ–µ",
          "url": "https://example.com",
          "bgColor": "#314DFF",
          "color": "#ffffff"
        }
      }
    ]
  }
}
```

üîß –≠—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç—ã –±—É–¥—É—Ç –æ–±—ë—Ä–Ω—É—Ç—ã –≤ —Ç–∞–±–ª–∏—Ü—É –ø–µ—Ä–µ–¥ –≤—Å—Ç–∞–≤–∫–æ–π –≤ `<td>`.

---

## ‚ùó –í–ê–ñ–ù–û: –û—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä—ã—Ö —Å—Ç–æ–∏—Ç –∏–∑–±–µ–≥–∞—Ç—å

- ‚ùå –ù–µ–ª—å–∑—è –≤—Å—Ç–∞–≤–ª—è—Ç—å `<div>` –∏–ª–∏ `<tr>` –Ω–∞–ø—Ä—è–º—É—é –≤ `table`, –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ –≤–Ω—É—Ç—Ä–∏ `<td>`.
- ‚ùå –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `div` –≤–Ω—É—Ç—Ä–∏ `<table>` ‚Äî —ç—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É.
- ‚úÖ –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–∞–±–ª–∏—Ü—ã –∏–ª–∏ `<td>` –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏.

---

## ‚úÖ –í—ã–≤–æ–¥

- `background-block` ‚Äî —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –æ–±—ë—Ä—Ç–∫–∞ —Å —Ñ–æ–Ω–æ–º.
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∞–∫ –æ–¥–∏–Ω–æ—á–Ω—ã–π, —Ç–∞–∫ –∏ —Å–æ—Å—Ç–∞–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç.
- –°—Ç—Ä–∞—Ç–µ–≥–∏—è –≤—Å—Ç–∞–≤–∫–∏ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ `content`.
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç—â–∞—Ç–µ–ª—å–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ–¥ Gmail, Outlook, Mail.ru, –Ø–Ω–¥–µ–∫—Å –∏ iOS Mail.
