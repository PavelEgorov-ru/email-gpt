# üì¶ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: –ë–ª–æ–∫ ¬´–§–æ–Ω–æ–≤—ã–π¬ª (`background-block`)

–ë–ª–æ–∫ —Å —Ñ–æ–Ω–æ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ –∑–∞–¥–Ω–∏–π –ø–ª–∞–Ω, –ø–æ–≤–µ—Ä—Ö –∫–æ—Ç–æ—Ä—ã—Ö —Ä–∞—Å–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è —Ç–µ–∫—Å—Ç, –∫–Ω–æ–ø–∫–∏ –∏–ª–∏ –¥—Ä—É–≥–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã.

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤–æ –≤—Å–µ—Ö –ø–æ—á—Ç–æ–≤–∏–∫–∞—Ö, –≤–∫–ª—é—á–∞—è Outlook (—á–µ—Ä–µ–∑ VML).

---

## üß± HTML-—à–∞–±–ª–æ–Ω –±–ª–æ–∫–∞

```html
<tr>
  <td
    align="center"
    bgcolor="{bgColor}"
    background="{bgImage}"
    style="background-image: url({bgImage}); background-position: center center; background-size: cover; background-repeat: no-repeat; background-color: {bgColor}; padding: 0; margin: 0; font-size: 0; line-height: normal;"
  >
    <!--[if gte mso 9]>
    <v:image src="{bgImage}" xmlns:v="urn:schemas-microsoft-com:vml" style="width:{width}px;height:{height}px;" />
    <v:rect fill="true" stroke="false" style="position:absolute;width:{width}px;height:{height}px;">
      <v:fill opacity="0%" color="#000000" />
      <v:textbox inset="0,0,0,0">
    <![endif]-->

    {{–≤—Å—Ç–∞–≤–∫–∞_–∫–æ–Ω—Ç–µ–Ω—Ç–∞}}

    <!--[if gte mso 9]>
      </v:textbox>
    </v:rect>
    <![endif]-->
  </td>
</tr>
```

---

## üß† –ü–æ–≤–µ–¥–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä–∞ –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ content

```js
if (content.length > 1) {
  // –û–±–æ—Ä–∞—á–∏–≤–∞–µ–º –≤ —Ç–∞–±–ª–∏—Ü—É
  <table width="100%" cellpadding="0" cellspacing="0" border="0" style="border-collapse: collapse; width: 100%;">
    <tr>
      <td style="padding: 0; margin: 0; font-size: 0; line-height: normal;">
        <!-- –í–ª–æ–∂–µ–Ω–Ω—ã–µ –±–ª–æ–∫–∏ -->
        {{block_1}}
        {{block_2}}
        ...
      </td>
    </tr>
  </table>
} else {
  // –û–¥–∏–Ω –±–ª–æ–∫ ‚Äî –≤—Å—Ç–∞–≤–ª—è–µ–º –Ω–∞–ø—Ä—è–º—É—é
  {{single_block}}
}
```

---

### üìå –£—Å–ª–æ–≤–∏—è:

| –°—Ü–µ–Ω–∞—Ä–∏–π                              | –û–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –≤ `<table>`? |
| ------------------------------------- | ------------------------ |
| –¢–æ–ª—å–∫–æ –æ–¥–∏–Ω `text`, `button`, `image` | ‚ùå –ù–µ—Ç                   |
| –ù–µ—Å–∫–æ–ª—å–∫–æ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –±–ª–æ–∫–æ–≤            | ‚úÖ –î–∞                    |
| –û–¥–∏–Ω `banner` –∏–ª–∏ `cards-*`           | ‚ùå –ù–µ—Ç                   |
| –ù–µ—Å–∫–æ–ª—å–∫–æ `text`, `button`, `cards`   | ‚úÖ –î–∞                    |

---

## üîç –ü—Ä–∏–º–µ—Ä—ã

### ‚úÖ –û–¥–∏–Ω —Ç–µ–∫—Å—Ç:

```json
{
  "type": "background-block",
  "data": {
    "bgImage": "https://site.com/bg.jpg",
    "bgColor": "#333333",
    "width": 640,
    "height": 320,
    "content": [
      {
        "type": "text",
        "data": {
          "value": "–ü—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç",
          "align": "center",
          "color": "#ffffff"
        }
      }
    ]
  }
}
```

üîß –®–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä –≤—Å—Ç–∞–≤–∏—Ç –±–ª–æ–∫ `text` –Ω–∞–ø—Ä—è–º—É—é –≤ —Ñ–æ–Ω–æ–≤—ã–π `td`, –±–µ–∑ –æ–±—ë—Ä—Ç–∫–∏.

---

### ‚úÖ –ù–µ—Å–∫–æ–ª—å–∫–æ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –±–ª–æ–∫–æ–≤:

```json
{
  "type": "background-block",
  "data": {
    "bgImage": "https://site.com/bg.jpg",
    "bgColor": "#000000",
    "width": 660,
    "height": 400,
    "content": [
      {
        "type": "text",
        "data": {
          "value": "–ó–∞–≥–æ–ª–æ–≤–æ–∫",
          "align": "center",
          "color": "#ffffff"
        }
      },
      {
        "type": "button",
        "data": {
          "text": "–°–º–æ—Ç—Ä–µ—Ç—å",
          "bgColor": "#ED1F1E",
          "color": "#ffffff"
        }
      }
    ]
  }
}
```

üîß –®–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–µ—Ä–Ω—ë—Ç –∏—Ö –≤ `table > tr > td` —Å –Ω—É–∂–Ω—ã–º–∏ —Å—Ç–∏–ª—è–º–∏.

---

## ‚úÖ –í—ã–≤–æ–¥

- `background-block` —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–±—ë—Ä—Ç–∫–∞, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∞—è –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã.
- –ü–æ–≤–µ–¥–µ–Ω–∏–µ –≤—Å—Ç–∞–≤–∫–∏ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ `content`.
- –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–æ–¥ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ email-–≤–µ—Ä—Å—Ç–∫–∏.
